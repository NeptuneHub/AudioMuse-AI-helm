# Default values for audiomuse-ai.

fullnameOverride: ""
nameOverride: ""

namespace:
  name: "default-audiomuse-ns" # Reverted to a sensible default, or "default"
                                # This is only used if --namespace is NOT specified
                                # during helm install.

image:
  repository: ghcr.io/neptunehub/audiomuse-ai
  pullPolicy: Always
  # Overrides the image tag whose default is the chart's appVersion.
  tag: ""

flask:
  replicaCount: 1
  service:
    type: LoadBalancer
    port: 8000
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "1"
      memory: "1Gi"

worker:
  replicaCount: 3
  resources:
    requests:
      cpu: "500m"
      memory: "1Gi"
    limits:
      cpu: "2"
      memory: "2Gi"

redis:
  enabled: true
  image: "redis:7-alpine"
  service:
    port: 6379
  resources:
    requests:
      cpu: "200m"
      memory: "256Mi"
    limits:
      cpu: "1"
      memory: "512Mi"

postgres:
  enabled: true
  image: "postgres:15-alpine"
  user: "audiomuse"
  password: "audiomusepassword" # IMPORTANT: Change this for production or use --set
  db: "audiomusedb"
  aiChatDbUser: "ai_user"
  aiChatDbUserPassword: "ChangeThisSecurePassword123!" # IMPORTANT: Change this for production or use --set
  service:
    port: 5432
  persistence:
    enabled: true
    size: 5Gi
    # storageClassName: "your-storage-class" # Uncomment and specify if needed
  resources:
    requests:
      cpu: "250m"
      memory: "256Mi"
    limits:
      cpu: "1"
      memory: "2Gi"

# Credentials and external service configurations
# IMPORTANT: For production, manage these secrets securely, e.g., with Sealed Secrets or Vault.
jellyfin:
  userId: "0e45c44b3e2e4da7a2be11a72a1c8575"
  token: "e0b8c325bc1b426c81922b90c0aa2ff1"
  url: "http://jellyfin.192.168.3.131.nip.io:8087"

gemini:
  apiKey: "YOUR_GEMINI_API_KEY_HERE" # IMPORTANT: Change this for production or use --set

# Application configuration parameters.
# Only environment-specific values that override the application's internal defaults are defined here.
config:
  # --- Core Application Settings ---
  tempDir: "/app/temp_audio"
  clusterAlgorithm: "kmeans"
  aiModelProvider: "NONE" # Can be "GEMINI", "OLLAMA", or "NONE"

  # --- AI Model Configuration ---
  ollamaServerUrl: "http://192.168.3.15:11434/api/generate"
  ollamaModelName: "mistral:7b"
  geminiModelName: "gemini-1.5-flash-latest"

  # --- Database User for AI Chat ---
  aiChatDbUserName: "ai_user"
